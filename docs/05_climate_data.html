<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Hands-On: Ocean Fronts Workshop 2024 - 5&nbsp; Getting Started with Climate Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./06_ncRaster.html" rel="next">
<link href="./04_cloning_repo.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./05_climate_data.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Getting Started with Climate Data</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Hands-On: Ocean Fronts Workshop 2024</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/IsaakBM/NACECC_workshop" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="./Hands-On--Ocean-Fronts-Workshop-2024.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About this book</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_preparation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Welcome!</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_set_up.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Setting up your computer</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_git_github.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">What exactly are <code>Git</code> and <code>GitHub</code>?</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_cloning_repo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Getting Started: workshop repository</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_climate_data.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Getting Started with Climate Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_ncRaster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title"><code>netCDF</code> files in <code>R</code>: <code>Raster</code>, <code>Spatial</code> objects</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_equalGrid.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title"><code>equal-area grid</code> for your area of interest</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_matchingMFOFC.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Extracting <code>Front</code> Data (or any variable) for the Created Grid</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_fronts_megafauna.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Megafauna and <code>Ocean Fronts</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_eval_hist_plots.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Distance Plots</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#cdo-installation-process" id="toc-cdo-installation-process" class="nav-link active" data-scroll-target="#cdo-installation-process"><span class="header-section-number">5.1</span> <code>CDO</code> Installation Process</a>
  <ul class="collapse">
  <li><a href="#macos" id="toc-macos" class="nav-link" data-scroll-target="#macos"><span class="header-section-number">5.1.1</span> <strong>MacOS</strong></a></li>
  <li><a href="#windows" id="toc-windows" class="nav-link" data-scroll-target="#windows"><span class="header-section-number">5.1.2</span> <strong>Windows</strong></a></li>
  </ul></li>
  <li><a href="#ncview-a-netcdf-visual-browser" id="toc-ncview-a-netcdf-visual-browser" class="nav-link" data-scroll-target="#ncview-a-netcdf-visual-browser"><span class="header-section-number">5.2</span> <code>ncview</code>: a <code>netCDF</code> visual browser</a></li>
  <li><a href="#working-with-cdo-and-ncview" id="toc-working-with-cdo-and-ncview" class="nav-link" data-scroll-target="#working-with-cdo-and-ncview"><span class="header-section-number">5.3</span> Working with CDO and ncview</a></li>
  <li><a href="#ocean-front-dataset-aviso-product" id="toc-ocean-front-dataset-aviso-product" class="nav-link" data-scroll-target="#ocean-front-dataset-aviso-product"><span class="header-section-number">5.4</span> Ocean Front dataset: AVISO product</a>
  <ul class="collapse">
  <li><a href="#dynamical-fronts-finite-size-lyapunov-exponent-fsle" id="toc-dynamical-fronts-finite-size-lyapunov-exponent-fsle" class="nav-link" data-scroll-target="#dynamical-fronts-finite-size-lyapunov-exponent-fsle"><span class="header-section-number">5.4.1</span> Dynamical fronts: <strong>Finite-size lyapunov exponent (FSLE)</strong></a></li>
  <li><a href="#procesing-fsle-data-from-aviso-or-any-other-climate-data" id="toc-procesing-fsle-data-from-aviso-or-any-other-climate-data" class="nav-link" data-scroll-target="#procesing-fsle-data-from-aviso-or-any-other-climate-data"><span class="header-section-number">5.4.2</span> Procesing FSLE data from AVISO (or any other climate data)</a></li>
  </ul></li>
  <li><a href="#exploring-useful-cdo-functions" id="toc-exploring-useful-cdo-functions" class="nav-link" data-scroll-target="#exploring-useful-cdo-functions"><span class="header-section-number">5.5</span> Exploring Useful CDO Functions</a></li>
  <li><a href="#workflow-for-using-climate-model-outputs" id="toc-workflow-for-using-climate-model-outputs" class="nav-link" data-scroll-target="#workflow-for-using-climate-model-outputs"><span class="header-section-number">5.6</span> Workflow for using climate model outputs</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/IsaakBM/NACECC_workshop/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Getting Started with Climate Data</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>This sections introduces you to the basics of using <code>Climate Data Operators (CDO)</code> to efficiently manipulate and analyze <code>netCDF</code> files, which are commonly used for storing climate data. <code>CDO</code> is a powerful command-line toolset designed to handle several climate data formats, allowing you to perform tasks such as data conversion, averaging, regridding, etc.</p>
<p><a href="https://code.mpimet.mpg.de/projects/cdo/">More info go directly to the Max Planck Institute CDO website</a></p>
<section id="cdo-installation-process" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="cdo-installation-process"><span class="header-section-number">5.1</span> <code>CDO</code> Installation Process</h2>
<section id="macos" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="macos"><span class="header-section-number">5.1.1</span> <strong>MacOS</strong></h3>
<p>Follow the instruction and downloaded <strong>MacPorts</strong>. <strong>MacPorts</strong> is an open-source community initiative to design an easy-to-use system for compiling, installing, and upgrading the command-line on the Mac operating system.</p>
<p><a href="https://www.macports.org/index.php">MacPorts website</a> <a href="https://www.macports.org/install.php">MacPorts download</a></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Setup <code>CDO</code> in <code>MacOS</code> (Updated Instructions)
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>1. Install <code>CDO</code>:</strong></p>
<ul>
<li>After <strong>MacPorts</strong> installation, open the <code>Terminal</code> and type</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>sudo port install cdo</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Enter your password</li>
</ul>
<p><strong>2. Verify the Installation:</strong></p>
<ul>
<li>To verify that <code>CDO</code> is installed, type:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>cdo <span class="sc">--</span>version</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This command will display the installed version of <code>CDO</code></p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>Homebrew</code> Alternative
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can use <code>Homebrew</code>, another popular package manager for <code>macOS</code>. To install <code>CDO</code> with Homebrew:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>brew install cdo</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="windows" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2" class="anchored" data-anchor-id="windows"><span class="header-section-number">5.1.2</span> <strong>Windows</strong></h3>
<p>In the current <code>Windows</code> version(s) <code>Microsoft</code> includes an <code>Ubuntu 16.04 LTS</code> embedded <code>Linux</code>. This environment offers a clean integration with the windows file systems and and the opportunity to install <code>CDO</code> via the native package manager of <code>Ubuntu</code>.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Setup <code>CDO</code> in <code>Windows</code> (Updated Instructions)
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>1. Enable Windows Subsystem for <code>Linux (WSL)</code>:</strong></p>
<ul>
<li>Open <code>PowerShell</code> as Administrator and run:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>wsl <span class="sc">--</span>install</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>This command installs the <code>Windows Subsystem</code> for <code>Linux</code> along with the latest <code>Ubuntu</code> distribution available from the <code>Microsoft Store</code>. If you already have <code>WSL</code> installed but want to upgrade or change your <code>Linux</code> distribution, you can manually select it from the <code>Microsoft Store</code>.</li>
</ul>
<p><strong>2. Install <code>Ubuntu</code> Distribution:</strong></p>
<ul>
<li>Go to the <code>Microsoft Store</code> and search for <code>Ubuntu</code></li>
<li>Install the latest version of <code>Ubuntu</code> (e.g., <code>Ubuntu 20.04 LTS</code> or <code>Ubuntu 22.04 LTS</code>)</li>
</ul>
<p><strong>3. Open the <code>Ubuntu</code> Terminal:</strong></p>
<ul>
<li>Once installed, open the <code>Ubuntu</code> terminal from the Start menu</li>
</ul>
<p><strong>4. Update and Install <code>CDO</code>:</strong></p>
<ul>
<li>In the <code>Ubuntu</code> terminal, update your package list:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>sudo apt update</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Install <code>CDO</code> using the package manager:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>sudo apt install cdo</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Enter your password when prompted</li>
</ul>
<p><strong>5. Verify the Installation:</strong></p>
<ul>
<li>To verify that <code>CDO</code> is installed, type:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>cdo <span class="sc">--</span>version</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This command will display the installed version of <code>CDO</code></p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p><code>Windows Subsystem for Linux 2</code> provides a full <code>Linux</code> kernel and better performance. If you’re using an older version, you might want to upgrade to <code>WSL 2</code> by following instructions on the <a href="https://learn.microsoft.com/en-us/windows/wsl/install">WSL 2 documentation page</a></p></li>
<li><p>The <code>Ubuntu</code> terminal has seamless access to your <code>Windows</code> file system, so you can use <code>CDO</code> on files stored on your Windows drives directly</p></li>
</ul>
</div>
</div>
</section>
</section>
<section id="ncview-a-netcdf-visual-browser" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="ncview-a-netcdf-visual-browser"><span class="header-section-number">5.2</span> <code>ncview</code>: a <code>netCDF</code> visual browser</h2>
<p><code>ncview</code> is a fast and user-friendly visual browser for exploring <code>netCDF</code> files. Mainly designed for <code>Linux</code> and <code>macOS</code>, <code>ncview</code> provides an intuitive interface to quickly view and analyze the contents of any <code>netCDF</code> file, making it a convenient tool for data exploration and preliminary analysis.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
installing <code>ncview</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>1. Open the <code>Terminal</code> and type:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>sudo port install ncview</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>2. Verify the Installation:</strong></p>
<ul>
<li>To verify that <code>ncview</code> is installed, type:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>ncview <span class="sc">--</span>version</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This command will display the installed version of <code>ncview</code></p>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>ncview</code> for <code>Windows</code>?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><code>ncview</code> is designed for Unix-like environments (<code>Linux</code> and <code>macOS</code>). However, the installation can be achieved by using <code>Windows Subsystem for Linux (WSL)</code>:</p>
<p><strong>1. Install <code>Windows Subsystem for Linux (WSL)</code>:</strong></p>
<ul>
<li>Open <code>PowerShell</code> as Administrator and run:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>wsl <span class="sc">--</span>install</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>This command installs <code>WSL</code> along with a default <code>Linux</code> distribution, such as <code>Ubuntu.</code> If you already have <code>WSL</code>, make sure it is set to <code>version 2</code> by running:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>wsl <span class="sc">--</span>set<span class="sc">-</span>default<span class="sc">-</span>version <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>2. Install Packages:</strong></p>
<ul>
<li>Open the <code>Ubuntu</code> terminal (or your chosen <code>Linux</code> distribution) and update your package list:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>sudo apt update</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Install the required dependencies for <code>ncview</code>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>sudo apt install ncview</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>3. Verify the Installation:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>ncview</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>This should start <code>ncview</code> if the installation was successful</li>
</ul>
<p><strong>4. <code>X server (VcXsrv)</code> for <code>ncview</code></strong></p>
<ul>
<li>Download and install <code>VcXsrv</code> from <a href="https://github.com/ArcticaProject/vcxsrv/releases">official GitHub releases page</a></li>
<li>Launch <code>VcXsrv</code> after installation</li>
<li>Set the DISPLAY Environment Variable in <code>WSL</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>export DISPLAY<span class="ot">=</span><span class="er">$</span>(grep nameserver <span class="sc">/</span>etc<span class="sc">/</span>resolv.conf <span class="sc">|</span> awk <span class="st">'{print $2}'</span>)<span class="sc">:</span><span class="fl">0.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="working-with-cdo-and-ncview" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="working-with-cdo-and-ncview"><span class="header-section-number">5.3</span> Working with CDO and ncview</h2>
<p>For the purpose of this workshop and to demonstrate how to use <code>CDO (Climate Data Operators)</code> and <code>ncview</code>, I have included two <code>netCDF</code> files of <strong>dynamical fronts</strong> (i.e., FSLE - Finite Size Lyapunov Exponent) in the workshop repository you have already cloned. These files are located in the <code>data_raw/2016 directory</code>.</p>
<p>To work with <code>CDO</code> and <code>ncview</code>, you’ll need to use the terminal command line. Open the <code>Ubuntu</code> app in <code>Windows</code> or the <code>Terminal</code> on <code>macOS.</code></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>CDO</code> and <code>ncview</code> from the terminal command line
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>1.1 Data Directory</strong></p>
<ul>
<li>In your command line, type:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>cd <span class="sc">/</span>Users<span class="sc">/</span>ibrito<span class="sc">/</span>Desktop<span class="sc">/</span>NACECC_workshop<span class="sc">/</span>data_raw<span class="sc">/</span><span class="dv">2016</span><span class="sc">/</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Navigate to the directory where you have stored the workshop repository</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: The path below is specific to my local computer. Please replace it with your own directory path</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>This command sets <code>NACECC_workshop</code> as your primary working directory</li>
</ul>
<p><strong>1.2 Windows Users</strong></p>
<ul>
<li>If your workshop repository is located on the <code>Desktop</code>, the path should be within the <code>/mnt/c/Users/YourUsername/Desktop/</code> directory</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>cd <span class="sc">/</span>mnt<span class="sc">/</span>c<span class="sc">/</span>Users<span class="sc">/</span>YourUsername<span class="sc">/</span>Desktop<span class="sc">/</span>NACECC_workshop<span class="sc">/</span>data_raw<span class="sc">/</span><span class="dv">2016</span><span class="sc">/</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace YourUsername with your actual Windows username.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>2. Viewing Data with <code>ncview</code></strong></p>
<ul>
<li>Check if your data file is in the directory by listing the files:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>ls <span class="sc">-</span>l</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># This command will display the contents of the data directory</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>To quickly view the <code>netCDF</code> file using <code>ncview</code>, type:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>ncview dt_global_allsat_madt_fsle_20160601_20210921.nc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/ncview_01.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<ul>
<li>In <code>Windows</code> remember to run first:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>export DISPLAY<span class="ot">=</span><span class="er">$</span>(grep nameserver <span class="sc">/</span>etc<span class="sc">/</span>resolv.conf <span class="sc">|</span> awk <span class="st">'{print $2}'</span>)<span class="sc">:</span><span class="fl">0.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>ncview dt_global_allsat_madt_fsle_20160601_20210921.nc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>3. File Details with <code>CDO</code></strong></p>
<ul>
<li>To inspect the metadata and structure of the <code>netCDF</code> file using <code>CDO</code>, type:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>cdo <span class="sc">-</span>sinfo dt_global_allsat_madt_fsle_20160601_20210921.nc</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># This command provides detailed information about the file, such as variable names, dimensions, and attributes.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/cdo_01.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<p>The model details are:</p>
<ul>
<li>Horizontal component: resolution 9000x4500 (~4km)</li>
<li>Vertical component: 1 level (i.e., surface)</li>
<li>Time component: 1 step</li>
</ul>
<p><strong>4. Check variable(s) name</strong></p>
<ul>
<li>To get the variable names from a <code>netCDF</code> file using <code>CDO</code>, you can use the <code>showname</code> function:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>cdo showname dt_global_allsat_madt_fsle_20160601_20210921.nc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The model variables are: <code>fsle_max</code> <code>theta_max</code></p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong><code>X Server</code> for <code>ncview</code> on <code>Windows</code></strong>: If you’re using <code>ncview</code> on <code>Windows</code>, ensure you have an <code>X server</code> (like <code>VcXsrv</code> or <code>Xming</code>) running to properly display the graphical interface</li>
<li><strong>Error Handling</strong>: If you encounter any errors, double-check that <code>CDO</code> and <code>ncview</code> are correctly installed and that you are using the correct file paths</li>
</ul>
</div>
</div>
</section>
<section id="ocean-front-dataset-aviso-product" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="ocean-front-dataset-aviso-product"><span class="header-section-number">5.4</span> Ocean Front dataset: AVISO product</h2>
<p>For the primary purpose of this workshop, we will use AVISO products, primarily focusing on ocean fronts. AVISO is the French Active Archive Data Center for multi-satellite altimeter missions. It is responsible for post-processing, analyzing, archiving, and distributing altimetry data for CNES (Centre National d’Études Spatiales), the French Space Agency.</p>
<p>You can set up an account and start downloading datasets for your research. Visit the website here: <a href="https://www.aviso.altimetry.fr" class="uri">https://www.aviso.altimetry.fr</a></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>I strongly recommend downloading the data via <code>FTP</code> to simplify your workflow. You can use FTP clients such as <code>WinSCP</code>, <code>FileZilla</code>, or <code>MobaXterm</code>.</p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/aviso_01.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<section id="dynamical-fronts-finite-size-lyapunov-exponent-fsle" class="level3" data-number="5.4.1">
<h3 data-number="5.4.1" class="anchored" data-anchor-id="dynamical-fronts-finite-size-lyapunov-exponent-fsle"><span class="header-section-number">5.4.1</span> Dynamical fronts: <strong>Finite-size lyapunov exponent (FSLE)</strong></h3>
<p>In simple terms, the <strong>Finite-size Lyapunov Exponent (FSLE)</strong> is a tool used to understand how the ocean moves and mixes. FSLE helps identify lines in the ocean that act like barriers or pathways. High FSLE values highlight lines that act as transport barriers (known as Lagrangian coherent structures), which help identify features like filaments, fronts, or eddy boundaries.</p>
<p>More information on these aspects, please read <span class="citation" data-cites="sudre2023">(<a href="references.html#ref-sudre2023" role="doc-biblioref"><strong>sudre2023?</strong></a>)</span> and <span class="citation" data-cites="sudre2023a">(<a href="references.html#ref-sudre2023a" role="doc-biblioref"><strong>sudre2023a?</strong></a>)</span></p>
</section>
<section id="procesing-fsle-data-from-aviso-or-any-other-climate-data" class="level3" data-number="5.4.2">
<h3 data-number="5.4.2" class="anchored" data-anchor-id="procesing-fsle-data-from-aviso-or-any-other-climate-data"><span class="header-section-number">5.4.2</span> Procesing FSLE data from AVISO (or any other climate data)</h3>
<p>You do not actually have to download the front dataset from <code>AVISO</code> at this point. We will use the dataset located in the workshop repository that you have previously <code>cloned</code>.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>NACECC_workshop_repo</code>
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>Go</strong> to the location where you <code>cloned</code> the repository</li>
<li><strong>Open</strong> the <code>NACECC_workshop_repo.Rproj</code> file</li>
<li>This process should open a new <code>R session</code> in <code>RStudio</code> and, by default, set the <code>NACECC_workshop_repo</code> as the working directory, with relative paths</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/repo_00.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
</div>
</div>
<p>The <code>AVISO</code> dataset on fronts consists of individual daily files of <code>140 MB</code> each, covering the period from <code>1994 — 2023</code>. You can imagine that processing these files in <code>R</code> could be quite challenging. <code>R</code> will need to use <strong>YOUR</strong> local memory just to read these files, and any additional tasks we need to perform (such as <code>aggregating</code>, <code>merging</code>, calculating <code>averages</code>, <code>minimums</code>, <code>maximums</code>, etc.) will also rely on your local computer’s internal memory.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/aviso_03.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 1: Using <code>CDO</code> to merge files
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is the structure of the <code>NACECC_workshop_repo</code> repository that we have <code>cloned</code>. I did not include all the <code>AVISO</code> files; as an example, we will work with only 2 files. You can repeat the same exercise with however many files you have for your projects.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/repo_01.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<p>To better handle front or any other climate data, organizing the dataset by <code>year</code> or <code>month</code> is the way to go. In fact, the <code>IPCC</code> data structure typically works with monthly files (and sometimes yearly files).</p>
<p>Using <code>CDO</code> to merge files is simple. We will have to use <code>-mergetime</code> operator in the directory. For example, using the <code>terminal</code> or the <code>RStudio terminal tab</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Navigate to the directory where the front data is stored</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>cd data_raw<span class="sc">/</span><span class="dv">2016</span><span class="sc">/</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check how many NetCDF files are in the directory</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>ls <span class="sc">-</span>l <span class="sc">*</span>.nc</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the two NetCDF files</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>cdo <span class="sc">-</span>mergetime <span class="sc">*</span>.nc combined_file.nc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/merge_01.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<p>The CDO Syntax is very simple. It requieres:</p>
<ul>
<li><code>cdo</code> <code>-Operator</code> <code>input_files</code> <code>output_files</code></li>
</ul>
<p>From the code before we can see:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify the operator for merging files</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>Operator <span class="sc">==</span> <span class="st">"-mergetime"</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the input files (using wildcard * to identify all .nc files in the directory)</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>input_files <span class="sc">==</span> <span class="st">"*.nc"</span> </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the output file name (make sure to include the extension)</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>output_files <span class="sc">==</span> <span class="st">"combined_file.nc"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 2: Check the new file and plot it using <code>ncview</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>To check the structure of the new <code>combined_file.nc</code> file, we will use the <code>-sinfo</code> operator. In the same directorty <code>data_raw/2016/</code>, type (using the <code>terminal</code> or the <code>RStudio terminal tab</code>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>cdo <span class="sc">-</span>sinfo combined_file.nc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/merge_02.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<p>To quickly plot the new <code>combined_file.nc</code> using <code>ncview</code>, type:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>ncview combined_file.nc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="exploring-useful-cdo-functions" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="exploring-useful-cdo-functions"><span class="header-section-number">5.5</span> Exploring Useful CDO Functions</h2>
<p><code>CDO</code> provides a wide range of functions for processing and analyzing climate data in <code>netCDF</code> format. Below are some of the most commonly used functions, along with additional operators that can be useful for specific tasks.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>CDO</code> Functions
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>1. Commonly Used</strong></p>
<ul>
<li><code>cdo -yearmean</code>: Calculates the <code>annual mean</code> from a monthly data input <code>netCDF</code> file</li>
<li><code>cdo -yearmin</code>: Calculates the <code>annual minimum</code> from a monthly data input <code>netCDF</code> file</li>
<li><code>cdo -yearmax</code>: Calculates the <code>annual maximum</code> from a monthly data input <code>netCDF</code> file</li>
<li><code>cdo -ensmean</code>: Computes the <code>ensemble mean</code> across multiple <code>netCDF</code> files. This is particularly useful when you have input files from - different models and want to calculate the <code>mean</code> across all models</li>
<li><code>cdo -vertmean</code>: Calculates the <code>vertical mean</code> for <code>netCDF</code> files with ocean levels (e.g., depth)</li>
<li><code>cdo -mergetime</code>: Merges all <code>netCDF</code> files in your directory into a single file, combining data over time</li>
</ul>
<p><strong>2. Additional Operators</strong></p>
<ul>
<li><code>cdo sellonlatbox,170,-170,-10,-30 input_file.nc output_file.nc</code>: Selects a specific region within the data, defined by the longitude and latitude box (in this case, from 170° to -170° longitude and from -10° to -30° latitude)</li>
<li><code>cdo -remapbil,r1440x720 -select,name=thetao input_file.nc output_file.nc</code>: Performs bilinear interpolation to remap the data to a 1440x720 grid, selecting the variable thetao (temperature at depth).</li>
<li><code>cdo -remapdis,r1440x720 -select,name=thetao input_file.nc output_file.nc</code>: Performs distance-weighted interpolation to remap the data to a 1440x720 grid, selecting the variable thetao.</li>
<li><code>cdo -remapbil,r4000x2000 -select,name=fsle input_file.nc output_file.nc</code>: Performs bilinear interpolation to remap the data to a 4000x2000 grid, selecting the variable fsle (Finite-size Lyapunov Exponent)</li>
</ul>
</div>
</div>
</section>
<section id="workflow-for-using-climate-model-outputs" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="workflow-for-using-climate-model-outputs"><span class="header-section-number">5.6</span> Workflow for using climate model outputs</h2>
<p>For those seeking to incorporate climate models into their professional work to address climate change, understanding the starting point can be challenging. Here is a framework, detailed in our recently published paper online <span class="citation" data-cites="schoeman2023">(<a href="references.html#ref-schoeman2023" role="doc-biblioref"><strong>schoeman2023?</strong></a>)</span>.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="images/Fv4WPG-aEAEsdPf.jpg" class="img-fluid" style="width:100.0%"></p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./04_cloning_repo.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Getting Started: workshop repository</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./06_ncRaster.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title"><code>netCDF</code> files in <code>R</code>: <code>Raster</code>, <code>Spatial</code> objects</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>